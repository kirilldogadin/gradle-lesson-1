# Gradle Wrapper

Gradle Wrapper — это важный компонент экосистемы Gradle, который обеспечивает согласованность версий Gradle между разработчиками и CI/CD системами. В этом документе рассмотрены основные аспекты Gradle Wrapper.

## Что такое Gradle Wrapper?

Gradle Wrapper — это скрипт, который позволяет запускать Gradle без необходимости его предварительной установки. Wrapper автоматически скачивает нужную версию Gradle при первом запуске и использует её для сборки проекта.

## Преимущества Gradle Wrapper

1. **Согласованность версий**
   - Все разработчики и CI/CD серверы используют одну и ту же версию Gradle
   - Устраняет проблемы "у меня работает, а у тебя нет"

2. **Простота настройки**
   - Новым участникам проекта не нужно устанавливать Gradle
   - Достаточно клонировать репозиторий и запустить `./gradlew`

3. **Автоматическое скачивание**
   - Wrapper автоматически скачивает нужную версию Gradle
   - Кэширует скачанную версию для повторного использования

4. **Изоляция проектов**
   - Разные проекты могут использовать разные версии Gradle
   - Обновление Gradle в одном проекте не влияет на другие проекты

## Структура Gradle Wrapper

Gradle Wrapper состоит из следующих файлов:

- `gradle/wrapper/gradle-wrapper.jar` — JAR-файл, который скачивает и запускает Gradle
- `gradle/wrapper/gradle-wrapper.properties` — настройки Wrapper, включая версию Gradle
- `gradlew` — скрипт запуска для Unix-подобных систем (Linux, macOS)
- `gradlew.bat` — скрипт запуска для Windows

## Файл gradle-wrapper.properties

Файл `gradle-wrapper.properties` содержит настройки Wrapper:

```properties
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
distributionUrl=https\://services.gradle.org/distributions/gradle-8.2-bin.zip
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
```

- `distributionUrl` — URL для скачивания дистрибутива Gradle
- `distributionBase` и `distributionPath` — где будет храниться дистрибутив
- `zipStoreBase` и `zipStorePath` — где будет храниться архив с дистрибутивом

## Разница между gradle и gradlew

| gradle | gradlew |
|--------|---------|
| Команда глобально установленного Gradle | Скрипт Gradle Wrapper |
| Использует версию Gradle, установленную в системе | Использует версию Gradle, указанную в проекте |
| Требует предварительной установки Gradle | Не требует установки Gradle |
| Может отличаться на разных машинах | Гарантирует одинаковую версию на всех машинах |

## Создание и обновление Gradle Wrapper

### Создание Wrapper

Если у вас уже установлен Gradle, вы можете создать Wrapper в проекте:

```bash
gradle wrapper
```

### Обновление версии Gradle

Для обновления версии Gradle в Wrapper:

```bash
./gradlew wrapper --gradle-version=8.2
```

### Типы дистрибутивов

При создании или обновлении Wrapper можно указать тип дистрибутива:

```bash
./gradlew wrapper --gradle-version=8.2 --distribution-type=all
```

Доступные типы:
- `bin` (по умолчанию) — только бинарные файлы
- `all` — бинарные файлы, документация и исходный код

## Лучшие практики

1. **Всегда включайте Wrapper в репозиторий**
   - Файлы Wrapper должны быть добавлены в систему контроля версий
   - Это обеспечивает согласованность версий для всех участников проекта

2. **Используйте Wrapper вместо глобального Gradle**
   - Всегда запускайте сборку через `./gradlew` вместо `gradle`
   - Это гарантирует использование правильной версии Gradle

3. **Регулярно обновляйте версию Gradle**
   - Следите за выходом новых версий Gradle
   - Обновляйте Wrapper для использования новых возможностей и исправлений

4. **Документируйте версию Gradle**
   - Укажите используемую версию Gradle в документации проекта
   - Это поможет новым участникам понять требования проекта

## Заключение

Gradle Wrapper — это важный инструмент, который обеспечивает согласованность версий Gradle и упрощает работу с проектами. Использование Wrapper является стандартной практикой в проектах на Gradle и рекомендуется для всех проектов, независимо от их размера.
